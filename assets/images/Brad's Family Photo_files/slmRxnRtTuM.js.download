if (self.CavalryLogger) { CavalryLogger.start_js(["OtJjB"]); }

__d("CreateLivingRoomPostMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"CreateLivingRoomPostData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"CreateLivingRoomPostMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"create_living_room_post",storageKey:null,args:b,concreteType:"CreateLivingRoomPostResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:null,concreteType:null,plural:!1,selections:[c]}]}]},operation:{kind:"Operation",name:"CreateLivingRoomPostMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"create_living_room_post",storageKey:null,args:b,concreteType:"CreateLivingRoomPostResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},c]}]}]},params:{operationKind:"mutation",name:"CreateLivingRoomPostMutation",id:"2046863672048005",text:null,metadata:{}}}}();e.exports=a}),null);
__d("LivingRoomShareSheetAttachmentVideoCollectionQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"queuedVideoIDs",type:"[ID!]",defaultValue:null},{kind:"LocalArgument",name:"creationSource",type:"LivingRoomCreationSource!",defaultValue:null}],b=[{kind:"Variable",name:"creation_source",variableName:"creationSource"},{kind:"Variable",name:"video_ids",variableName:"queuedVideoIDs"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},e={kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},f={kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},h=[g];h={kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},c,d,{kind:"InlineFragment",type:"Page",selections:[f,{kind:"ScalarField",alias:null,name:"is_show_page",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"logo_for_show",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:h},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:h}]},{kind:"InlineFragment",type:"User",selections:[f]}]};f={kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null};var i={kind:"ScalarField",alias:null,name:"is_live_streaming",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"is_spherical",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"live_viewer_count_read_only",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"play_count",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"playable_duration",args:null,storageKey:null};g=[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},g];var n={kind:"LinkedField",alias:null,name:"image",storageKey:"image(height:160,width:284)",args:[{kind:"Literal",name:"height",value:160},{kind:"Literal",name:"width",value:284}],concreteType:"Image",plural:!1,selections:g},o={kind:"LinkedField",alias:null,name:"pre_roll_ad_break",storageKey:null,args:null,concreteType:"InstreamVideoAdBreak",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"index",args:null,storageKey:null}]},p={kind:"ScalarField",alias:null,name:"is_eligible_for_preroll_living_room",args:null,storageKey:null};g={kind:"LinkedField",alias:"attachment_image",name:"image",storageKey:"image(width:628)",args:[{kind:"Literal",name:"width",value:628}],concreteType:"Image",plural:!1,selections:g};return{kind:"Request",fragment:{kind:"Fragment",name:"LivingRoomShareSheetAttachmentVideoCollectionQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_video_collection",storageKey:null,args:b,concreteType:"LivingRoomVideoCollection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"videos",storageKey:null,args:null,concreteType:"Video",plural:!0,selections:[c,d,e,h,f,i,j,k,l,m,n,{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[n]},o,p,g]}]}]},operation:{kind:"Operation",name:"LivingRoomShareSheetAttachmentVideoCollectionQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_video_collection",storageKey:null,args:b,concreteType:"LivingRoomVideoCollection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"videos",storageKey:null,args:null,concreteType:"Video",plural:!0,selections:[c,d,e,h,f,i,j,k,l,m,n,{kind:"LinkedField",alias:null,name:"preferred_thumbnail",storageKey:null,args:null,concreteType:"VideoThumbnail",plural:!1,selections:[n,c]},o,p,g]}]}]},params:{operationKind:"query",name:"LivingRoomShareSheetAttachmentVideoCollectionQuery",id:"2412182505518108",text:null,metadata:{}}}}();e.exports=a}),null);
__d("CreateLivingRoomPostMutation",["RelayFBEnvironment","RelayModern","CreateLivingRoomPostMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("CreateLivingRoomPostMutation.graphql")};function a(a,c,d){return g(b("RelayFBEnvironment"),{mutation:h,variables:{input:a},onCompleted:c,onError:d})}e.exports={commit:a}}),null);
__d("XGroupsShareActorListController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/share/actors/",{target_id:{type:"Int"}})}),null);
__d("GroupShareActorSelector.react",["ActorSelector.react","AsyncRequest","React","XGroupsShareActorListController"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={actorIDs:[],loading:!0,selectedActorID:null},c.$1=!1,c.$3=function(a){c.setState({selectedActorID:a.value}),c.props.onChange(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.props.targetID&&this.$2()};d.componentDidMount=function(){this.$1=!0};d.componentWillUnmount=function(){this.$1=!1};d.render=function(){return this.props.targetID===null||!this.state.actorIDs||!this.state.selectedActorID||this.state.actorIDs.length===1?b("React").createElement("div",null):b("React").createElement(b("ActorSelector.react"),{actorIDs:this.state.actorIDs,coverEnabled:!1,loading:this.state.loading,onChange:this.$3,ref:"selector",selectedActorID:this.state.selectedActorID,suppressed:!0})};d.componentDidUpdate=function(a){this.props.targetID&&this.props.targetID!==a.targetID&&this.$2()};d.$2=function(){__p&&__p();var a=this;this.setState({loading:!0,selectedActorID:this.props.defaultActorID});var c=b("XGroupsShareActorListController").getURIBuilder().setInt("target_id",this.props.targetID).getURI();new(b("AsyncRequest"))().setURI(c).setHandler(function(b){if(a.$1){b=b.getPayload().actorIDs;var c=a.props.defaultActorID?a.props.defaultActorID:b?b[0]:null;a.setState({actorIDs:b,loading:!1,selectedActorID:c});a.props.onChange({value:c})}}).send()};return c}(b("React").Component);c.propTypes={defaultActorID:a.string.isRequired,onChange:a.func.isRequired,targetID:a.string};e.exports=c}),null);
__d("ShareDialogAudienceTypeahead.react",["cx","Grid.react","React","SearchableEntry","XUITypeahead.react","emptyFunction","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("Grid.react").GridItem;a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state=d.props.selectedEntry?{query:d.props.selectedEntry.getTitle(),selectedEntry:d.props.selectedEntry}:{query:d.props.preselectedID&&d.props.preselectedTitle?d.props.preselectedTitle:null,selectedEntry:d.props.preselectedID&&d.props.preselectedTitle?new(b("SearchableEntry"))({uniqueID:d.props.preselectedID,title:d.props.preselectedTitle}):null},d.$1=function(){(!d.state.selectedEntry||d.state.selectedEntry.getTitle()!==d.state.query)&&d.$2()},d.$2=function(){d.setState({query:"",selectedEntry:null}),d.props.onClear()},d.$5=function(a){d.setState({query:a.getTitle(),selectedEntry:a}),d.props.onChange(a)},d.$3=function(a){a=a.target.value;d.state.selectedEntry&&d.state.selectedEntry.getTitle()!==a?d.setState({query:a,selectedEntry:null}):d.setState({query:a})},d.$4=function(){d.setState({query:"",selectedEntry:null}),d.props.onClear()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){var b=a.selectedEntry;(b&&!this.state.selectedEntry||b&&this.state.selectedEntry.getUniqueID()!==b.getUniqueID)&&this.setState({query:a.selectedEntry.getTitle(),selectedEntry:a.selectedEntry})};d.render=function(){var a=this.props,c=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["className"]);var d=!!this.state.selectedEntry,e={};this.props.userId&&(e[this.props.userId]=!0);var f=this.props.prefix?b("React").createElement("span",{className:"_2qx7"},this.props.prefix):b("React").createElement("noscript",null),g=this.props.prefix?"_2qx6 _64_-":null;return b("React").createElement(b("Grid.react"),{className:g,cols:2},b("React").createElement(h,{key:"prefix",className:"_1ho1"},f),b("React").createElement(h,{key:"suffix",className:"_1xk6"},b("React").createElement(b("XUITypeahead.react"),babelHelpers["extends"]({},a,{className:b("joinClasses")(c,"_39y9"+(d?" _39ya":"")),excludedEntries:e,onChange:this.$3,onClear:this.$4,onBlur:this.$1,onSelectAttempt:this.$5,queryString:this.state.query,searchSource:this.props.searchSource,focusedOnInit:this.props.focusedOnInit,showEntriesOnFocus:!1,clearable:this.props.clearable,selectedEntry:this.state.selectedEntry,tallInput:!0}))))};return c}(b("React").Component);c.propTypes={searchSource:a.object.isRequired,preselectedID:a.string,userId:a.string,prefix:a.string,onClear:a.func,onChange:a.func,selectedEntry:a.instanceOf(b("SearchableEntry")),focusedOnInit:a.bool,clearable:a.bool};c.defaultProps={onClear:b("emptyFunction"),onChange:b("emptyFunction"),focusedOnInit:!0,clearable:!0};e.exports=c}),null);
__d("ShareDialogGroupAudience.react",["cx","fbt","GroupShareActorSelector.react","React","ReactComposerContextTypes","ShareDialogAudienceTypeahead.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ShareDialogGroupAudience",contextTypes:b("ReactComposerContextTypes"),propTypes:{customModules:a.arrayOf(a.func),searchSource:a.object.isRequired,pagesSource:a.object,onClear:a.func,onChange:a.func.isRequired,onSelect:a.func,defaultGroupID:a.string,userId:a.string,enableGroupVoiceSwitcher:a.bool,typeaheadClassName:a.string},getInitialState:function(){return{query:"",selectedEntry:null,selectedGroupID:null,showSpinner:!1}},UNSAFE_componentWillMount:function(){var a=this,b=this.props,c=b.defaultGroupID,d=b.searchSource;c&&d.bootstrap(function(){var b=d.getAllEntriesMap()[c];b&&(a.setState({query:b.getTitle(),selectedEntry:b}),a._onGroupChange(b))})},_onGroupChange:function(a){var b=a.getAuxiliaryData();b=b.isForSaleGroup;var c=this.props.searchSource;this.setState({isForSaleGroupSelected:b,selectedGroupID:a.getUniqueID(),selectedEntry:c.getAllEntriesMap()[a.getUniqueID]});this.props.onChange([a.getUniqueID()])},render:function(){var a=this,c=this.props.customModules?this.props.customModules:[],d=h._("Group:"),e=h._("Group Name"),f=this.state.selectedGroupID?this.state.selectedGroupID:null;if(this.props.pagesSource&&this.props.enableGroupVoiceSwitcher){var g;return b("React").createElement("div",{className:"_ul-"},b("React").createElement("div",{className:(g=this.props.typeaheadClassName)!=null?g:"_7_ti"},b("React").createElement(b("ShareDialogAudienceTypeahead.react"),babelHelpers["extends"]({},this.props,{onChange:this._onGroupChange,prefix:d,showPhoto:!0,name:"audience_group",inputID:"audience_group",className:"_2n3i",placeholder:e,selectedEntry:this.state.selectedEntry}))),b("React").createElement("div",{className:"_umc"},b("React").createElement(b("GroupShareActorSelector.react"),{name:"audience_group_actor_identity",onChange:function(b){a.setState({selectedActorID:b.value,showSpinner:!0}),a.props.onChange([{groupId:a.state.selectedGroupID,actorId:b.value}])},targetID:f,defaultActorID:this.props.userId})))}return b("React").createElement("div",null,b("React").createElement(b("ShareDialogAudienceTypeahead.react"),babelHelpers["extends"]({},this.props,{onChange:this._onGroupChange,prefix:d,showPhoto:!0,name:"audience_group",inputID:"audience_group",className:"_2n3i",placeholder:e,selectedEntry:this.state.selectedEntry})),c.map(function(c,d){return b("React").createElement(c,babelHelpers["extends"]({key:d},a.props,a.state))}))}});e.exports=c}),null);
__d("ShareDialogPageAudience.react",["cx","fbt","Image.react","LeftRight.react","React","ShareActorSelector.react","XUISelector.react","emptyFunction","getObjectValues","gkx"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;var i=b("XUISelector.react").Option;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;c=c.defaultPageID?c.defaultPageID:b("getObjectValues")(c.pagesSource)[0].id;var e=d.props.defaultActorID?d.props.defaultActorID:c;d.state={selectedPageID:c,selectedActorID:e,onClear:b("emptyFunction"),onChange:b("emptyFunction")};return d}var d=c.prototype;d.componentDidMount=function(){this.props.hidePostingAs&&this.props.onChange([{pageId:this.state.selectedPageID,actorId:this.state.selectedActorID}])};d.render=function(){var a=this;if(!this.props.pagesSource)return b("React").createElement("span",null);var c=b("getObjectValues")(this.props.pagesSource).map(function(a){return b("React").createElement(i,{key:a.id,value:a.id,icon:b("React").createElement(b("Image.react"),{src:a.pic,height:15,width:15})},a.name)}),d=this.props.hidePostingAs?b("React").createElement("div",null):b("React").createElement("span",null,b("React").createElement("strong",{className:"_15ua"},h._("Posting as")," "),b("React").createElement(b("ShareActorSelector.react"),{name:"audience_page_identity",onChange:function(b){a.setState({selectedActorID:b.value}),a.props.onChange([{pageId:a.state.selectedPageID,actorId:b.value}])},targetID:this.state.selectedActorID}));return b("React").createElement("div",{className:"_15u8 _4cvk"},b("React").createElement(b("LeftRight.react"),null,b("React").createElement(b("XUISelector.react"),{className:"_15u9",name:"audience_page",inputID:"audience_page",maxheight:150,value:this.state.selectedPageID,defaultValue:this.state.selectedPageID,onChange:function(b){a.setState({selectedPageID:b.value,selectedActorID:b.value}),a.props.onChange([{pageId:b.value,actorId:a.state.selectedActorID}])}},c),d))};return c}(b("React").Component);c.propTypes={pagesSource:a.object.isRequired,onClear:a.func,onSelect:a.func,defaultPageID:a.string,defaultActorID:a.string,hidePostingAs:a.bool};e.exports=c}),null);
__d("LivingRoomCreationDialogStore",["LivingRoomTypeValues","undux"],(function(a,b,c,d,e,f){"use strict";a=b("LivingRoomTypeValues").AddVideoTabValue;c=b("undux").createConnectedStore;d={activeAudience:null,addVideoDialogShown:!1,addVideoDialogTab:a.MAIN,groupAudience:null,isPosting:!1,pageAudience:null,videoQueue:[],videoQueueDialogShown:!1,mainVideoID:null};f=c(d);b=f.withStore;a=f.Container;e.exports={withStore:b,Container:a}}),null);
__d("LivingRoomShareSheetAttachment.react",["cx","fbt","ix","Badge.react","FBLoadShimmer.react","ImageBlock.react","InlineBlock.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","LivingRoomTypedLogger","LivingRoomTypeUtils","React","RelayFBEnvironment","RelayModern","ScaledImage.react","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react","XUIButton.react","immutable","promiseDone","qex","LivingRoomShareSheetAttachmentVideoCollectionQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j,k=b("RelayModern").fetchQuery;b("RelayModern").graphql;var l=6;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={loadingPlaylist:!1,generatePlaylistButtonNuxShown:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").LIVING_ROOM_SHARE_SHEET_ADD_PLAYLIST)&&d.$1(),seeVideosInQueueNuxShown:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").LIVING_ROOM_PLAYLISTS_CTA_PREPOP)&&d.$2()},d.$7=function(){__p&&__p();d.setState({loadingPlaylist:!0});var a=d.props,c=a.queuedVideos,e=a.store;a=a.creationSource;c=c.map(function(a){return a.id}).toArray();new(b("LivingRoomTypedLogger"))().setLivingRoomAction("add_video_collection_share_sheet_button_pressed").updateExtraData({queued_video_ids:c.toString()}).log();b("promiseDone")(k(b("RelayFBEnvironment"),j||(j=function(){return b("LivingRoomShareSheetAttachmentVideoCollectionQuery.graphql")}),{queuedVideoIDs:c,creationSource:a}).then(function(a){a=(a=a==null?void 0:(a=a.living_room_video_collection)==null?void 0:a.videos)!=null?a:[];a=b("LivingRoomTypeUtils").convertVideos(a);e.set("videoQueue")(e.get("videoQueue").concat(a.toArray()));d.setState({loadingPlaylist:!1})}))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.state.generatePlaylistButtonNuxShown&&b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").LIVING_ROOM_SHARE_SHEET_ADD_PLAYLIST),this.state.seeVideosInQueueNuxShown&&b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").LIVING_ROOM_PLAYLISTS_CTA_PREPOP),this.forceUpdate()};d.$3=function(){this.setState({generatePlaylistButtonNuxShown:!1})};d.$4=function(){this.setState({generatePlaylistButtonNuxShown:!1})};d.$5=function(){var a=this;return b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.attachPlaylistButton},alignment:"center",position:"above",shown:this.state.generatePlaylistButtonNuxShown,onCloseButtonClick:function(){a.$3()}},h._("Click here to automatically create a playlist based on your selected video."))};d.$6=function(){var a=this;return b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.addVideoButton},alignment:"center",position:"above",shown:this.state.seeVideosInQueueNuxShown,onCloseButtonClick:function(){a.$4()},width:"auto"},h._("Click to see the videos in your queue."))};d.$8=function(){__p&&__p();var a=this.props,c=a.creatorName;a=a.queuedVideos;var d=a.count();c=h._(["{Name of the creator}'s Watch Party","3115abaf2c1b648ae7815fa7866696c3",1],[h._param("Name of the creator",c)]);var e=h._("Add videos to your queue");a=a.first();if(a!=null){var f;f=(f=(f=a==null?void 0:a.name)!=null?f:a==null?void 0:a.message.text)!=null?f:c;c=f.length>0?f:c;if(d===1){f=a==null?void 0:a.owner.name;a=(a==null?void 0:(a=a.owner)==null?void 0:a.is_verified)?b("React").createElement(b("Badge.react"),{size:"xsmall",type:"verified"}):null;e=b("React").createElement(b("React").Fragment,null,f,a)}else e=h._("1 of {total video count} videos",[h._param("total video count",d)])}return b("React").createElement(b("Layout.react"),null,b("React").createElement(b("InlineBlock.react"),{alignv:"middle",height:50,className:"_75cy"},b("React").createElement("div",{className:"_7_mh"},h._(["WATCH PARTY","5dda90492cd50d753f5c29e753769c44",1])),b("React").createElement("div",{className:"_7m4c"},c),b("React").createElement("div",{className:"_7m4d"},e)))};d.$9=function(){var a=this.props.queuedVideos;return a.count()===0?"confirm":"default"};d.$10=function(){var a=this.props.queuedVideos;return b("React").createElement("span",{className:"_7_mi"},"+",a.count()-l)};d.$11=function(){__p&&__p();var a=this,c=this.props,d=c.openContentQueue,e=c.queuedVideos;c=e.take(l).map(function(c,f){var g;f=f+1===l&&e.count()>l;g=b("React").createElement(b("ScaledImage.react"),{height:26,imageSize:{height:((g=c.preferred_thumbnail.image)==null?void 0:g.height)||26,width:((g=c.preferred_thumbnail.image)==null?void 0:g.width)||46},src:c.preferred_thumbnail.image.uri,width:46,className:"_7_mj"+(f?" _7_mk":"")});return b("React").createElement(b("LayoutColumn.react"),{className:"_83f_ _7_ml"+(f?" _7_mm":""),onClick:d,key:c.id},g,f?a.$10():null)});var f=[];if(e.count()<l){var g=l-e.count();f=Array.from(Array(g)).map(function(c,d){return b("React").createElement("div",{key:"queueVideoShimmerCard_"+d},b("React").createElement(b("LayoutColumn.react"),{className:"_7_ml"+(a.state.loadingPlaylist?" _83fs":"")+(a.state.loadingPlaylist?"":" _83f-")},b("React").createElement(b("FBLoadShimmer.react"),{className:a.state.loadingPlaylist?"_83fs":""})))})}return c.concat(f)};d.$1=function(){var a;return((a=b("qex")._("945049"))!=null?a:!1)&&(this.state?!this.state.loadingPlaylist:!0)};d.$2=function(){var a;return(a=b("qex")._("961006")&&this.props.queuedVideos.count()>1)!=null?a:!1};d.render=function(){var a,c=this.props,d=c.onAddVideoClick;c=c.queuedVideos;var e=c.count();c=c.first();var f=h._("Add Videos");a=b("React").createElement(b("ScaledImage.react"),{height:90,imageSize:{height:(c==null?void 0:(a=c.attachment_image)==null?void 0:a.height)||90,width:(c==null?void 0:(a=c.attachment_image)==null?void 0:a.width)||160},src:(c=c==null?void 0:(a=c.attachment_image)==null?void 0:a.uri)!=null?c:i("841213"),width:160});c=e===1&&this.$1()?b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIButton.react"),{className:"_81tu _81tv",loading:this.state.loadingPlaylist,disabled:this.state.loadingPlaylist,label:h._("Add Suggestions"),onClick:this.$7,ref:"attachPlaylistButton"}),this.$5()):null;return b("React").createElement("div",{className:"_7_mn"},b("React").createElement(b("ImageBlock.react"),null,a,this.$8()),b("React").createElement("div",{className:"_7_mo"},b("React").createElement(b("Layout.react"),null,this.$11(),b("React").createElement(b("LayoutFillColumn.react"),null,b("React").createElement(b("XUIButton.react"),{ref:"addVideoButton",className:"_81tu"+(e===1&&this.$1()?" _81tv":"")+(e!==1||!this.$1()?" _81tw":"")+(this.state.loadingPlaylist?" _83g0":""),label:f,onClick:d,use:this.$9()}),c,this.$6()))))};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomShareSheetCrosspostingGroupUpsellList.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",null,"Crossposting")};return c}(b("React").Component);e.exports=a}),null);
__d("XLivingRoomGroupUpsellMetadataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/group/share/metadata/",{target_id:{type:"Int"}})}),null);
__d("LivingRoomShareSheetGroupUpsellListItem.react",["ix","cx","fbt","AsyncRequest","FDSButton.react","GroupShareActorSelector.react","Image.react","React","XLivingRoomGroupUpsellMetadataController","asset","clearTimeout","intlSummarizeNumber","setTimeout"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showGroupActorSelector:!1,selectedActorID:null,numMembers:null,numFriendMembers:null},c.$1=!1,c.$2=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$2=b("setTimeout")(function(){a.$3(a.props.entry.getUniqueID()),a.setState({showGroupActorSelector:!0})},400);this.$1=!0};d.componentWillUnmount=function(){this.$1=!1,this.$2&&(b("clearTimeout")(this.$2),this.$2=null)};d.$3=function(a){var c=this;a=b("XLivingRoomGroupUpsellMetadataController").getURIBuilder().setInt("target_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.getPayload();c.$1&&a.numMembers!=null&&a.numFriendMembers!=null&&c.setState({numMembers:a.numMembers,numFriendMembers:a.numFriendMembers})}).send()};d.render=function(){var a=this,c=this.props.entry,d=b("React").createElement(b("Image.react"),{src:c.getPhoto(),className:"_7_od"}),e=this.state.selectedActorID!=null?this.state.selectedActorID:this.props.userID,f=this.state,h=f.numMembers;f=f.numFriendMembers;return b("React").createElement("div",{className:"_7_of"},d,b("React").createElement("div",null,b("React").createElement("span",{className:"_7_t1"},c.getTitle()),h!=null&&f!=null?b("React").createElement("div",{className:"_7_rk"},i._("{number of members in group} members",[i._param("number of members in group",b("intlSummarizeNumber")(h))]),b("React").createElement(b("Image.react"),{src:g("515552")}),i._("{number of viewer friend members in group} friends",[i._param("number of viewer friend members in group",b("intlSummarizeNumber")(f))])):null),this.state.showGroupActorSelector?b("React").createElement("div",{className:"_7_og"},b("React").createElement(b("GroupShareActorSelector.react"),{name:"audience_group_actor_identity",onChange:function(b){a.$1&&a.setState({selectedActorID:b.value})},targetID:c.getUniqueID(),defaultActorID:this.props.userID}),b("React").createElement(b("FDSButton.react"),{label:i._("Start"),onClick:function(){a.props.onPost(c.getUniqueID(),e)},use:"primary",size:"small"})):null)};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomShareSheetGroupUpsellList.react",["cx","fbt","CenteredContainer.react","LivingRoomShareSheetGroupUpsellListItem.react","React","SearchableTextInput.react","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={entries:c.props.recommendedGroups,loading:!1,query:""},c.$1=function(a){a=a.target.value;c.setState({loading:!0,query:a})},c.$2=function(a){window.setTimeout(function(){c.setState(function(b){return{entries:b.query===""?c.props.recommendedGroups:a,loading:!1}})},100)},c.$3=function(a){a===c.state.query&&c.setState({loading:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=this.state.entries.map(function(c){return b("React").createElement("li",{className:"_7_oe",key:c.getUniqueID()},b("React").createElement(b("LivingRoomShareSheetGroupUpsellListItem.react"),{userID:a.props.userID,onPost:a.props.onPost,entry:c}))}),d=h._("Search for groups");return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_7_oh"},h._("Share to a group")),b("React").createElement("div",{className:"_2ph- _7_oi"},b("React").createElement(b("SearchableTextInput.react"),{className:"_7_ok autofocus",onChange:this.$1,onEntriesFound:this.$2,placeholder:d,queryString:this.state.query,searchSource:this.props.dataSource,searchSourceOptions:{onQueryFinished:this.$3}})),this.state.loading?b("React").createElement("div",{className:"_7_rj"},b("React").createElement(b("XUISpinner.react"),null)):this.state.entries.length===0?b("React").createElement(b("CenteredContainer.react"),{className:"_2pi1"},h._("No results")):b("React").createElement("div",{className:"_7_ox"},b("React").createElement("ul",null,c)))};return c}(b("React").Component);e.exports=a}),null);
__d("LivingRoomCreationDialogAddVideoCollectionItem.react",["fbt","FDSButton.react","LivingRoomComposerLogger","LivingRoomVideoCollectionListItem.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();function c(){var c=a.store.get("videoQueue").map(function(a){return a.id}),d=a.videos.filter(function(a){return!c.includes(a.id)});a.store.set("videoQueue")(a.store.get("videoQueue").concat(d.toArray()));b("LivingRoomComposerLogger").get().setLivingRoomAction("add_collection_to_queue").setCurationContext("recommended_video_collections").addToExtraData("video_ids",d.map(function(a){return a.id}).toString()).log()}function d(){var c=a.videos.map(function(a){return a.id});a.store.set("videoQueue")(a.store.get("videoQueue").filter(function(a){return!c.includes(a.id)}));b("LivingRoomComposerLogger").get().setLivingRoomAction("remove_collection_from_queue").setCurationContext("recommended_video_collections").addToExtraData("video_ids",c.toString()).log()}var e=a.videos,f=a.store,h=a.title,i=f.get("videoQueue").map(function(a){return a.id});f=e.every(function(a){return i.includes(a.id)});f?(f=d,d=g._("Remove")):(f=c,d=g._("Add to Queue"));c=b("React").createElement(b("FDSButton.react"),{maxWidth:150,label:d,onClick:f,use:"default"});return b("React").createElement(b("LivingRoomVideoCollectionListItem.react"),{button:c,title:h,videos:e,disableClick:!1,onClickItem:f})}e.exports=a}),null);
__d("LivingRoomCreationDialogAddVideoItemContainer.react",["fbt","FDSButton.react","LivingRoomCreationDialogStore","LivingRoomHostFunnelLogger","LivingRoomValidateVideoMutation","LivingRoomVideoItem.react","LivingRoomVideoListItem.react","LivingRoomVideoValidation","React","SimpleXUIDialog","immutable","qex"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("LivingRoomCreationDialogStore").withStore;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={disabled:!1,queuing:!1},d.$1=function(){b("LivingRoomHostFunnelLogger").appendAction("add_to_queue"),d.setState({queuing:!0}),b("LivingRoomValidateVideoMutation").commit({group_id:null,video_id:d.props.video.id},function(a){d.setState({queuing:!1});a=(a=a)!=null?(a=a.living_room_validate_video)!=null?a.living_room_video_validation:a:a;d.$2(a)})},d.$4=function(a){d.props.store.set("videoQueue")(d.props.store.get("videoQueue").concat(a.toArray())),d.props.store.set("addVideoDialogShown")(!1)},d.$5=function(){b("LivingRoomHostFunnelLogger").appendAction("remove_from_queue");var a=d.props.store.get("videoQueue");d.props.store.set("videoQueue")(a.filter(function(a){return a.id!==d.props.video.id}))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a){if(a!=="IS_VALID"){this.setState({disabled:!0});this.$3();return}this.props.store.set("videoQueue")(this.props.store.get("videoQueue").concat(this.props.video))};d.$3=function(){b("SimpleXUIDialog").show(g._("The video you selected may not be eligible to play in a watch party"))};d.render=function(){__p&&__p();var a=this,c=this.state,d=c.queuing;c=c.disabled;var e=this.props.store.get("videoQueue").findIndex(function(b){return a.props.video.id===b.id});e=e!==-1;var f=this.$1,h=g._("Add to Queue");e?(f=this.$5,h=g._("Remove")):d&&(h=g._("Queuing"));var i=d||e?function(){}:this.$1,j=e||d||c||b("qex")._("866192")?"default":"primary";h=b("React").createElement(b("FDSButton.react"),{isDisabled:c||d,maxWidth:150,label:h,onClick:f,use:j});return b("qex")._("866192")?b("React").createElement(b("LivingRoomVideoListItem.react"),{addVideosToQueue:this.$4,disableClick:c||d,badgeControls:h,inSidePane:!1,onClickItem:i,showErrorMessage:!1,video:this.props.video,isQueued:e}):b("React").createElement(b("LivingRoomVideoItem.react"),{disabled:this.state.disabled,video:this.props.video},h)};return c}(b("React").Component);e.exports=a(c)}),null);
__d("LivingRoomCreationDialogAddVideoContainer.react",["LivingRoomAddVideoDialog.react","LivingRoomComposerLogger","LivingRoomCreationDialogAddVideoCollectionItem.react","LivingRoomCreationDialogAddVideoItemContainer.react","LivingRoomCreationDialogStore","LivingRoomHostFunnelLogger","LivingRoomTypeUtils","LivingRoomTypeValues","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("LivingRoomCreationDialogStore").withStore;var g=b("LivingRoomTypeValues").WalkthroughStepValue;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.store.set("addVideoDialogShown")(!1)},d.$2=function(a){d.props.store.set("addVideoDialogTab")(a),b("LivingRoomHostFunnelLogger").getFunnelLogger().setAction("curation_tab_impression").addFunnelPayload("curation_context",b("LivingRoomTypeUtils").convertTab(a)).log()},d.$3=function(){d.props.store.set("videoQueueDialogShown")(!0),d.props.store.set("addVideoDialogShown")(!1),b("LivingRoomHostFunnelLogger").appendAction("open_content_queue")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c;if(!this.props.store.get("addVideoDialogShown"))return null;c=(c=this.props.store.get("pageAudience"))==null?void 0:c.pageId;var d=this.props.store.get("mainVideoID");return b("React").createElement(b("LivingRoomAddVideoDialog.react"),{constructLogger:function(){return b("LivingRoomComposerLogger").get()},onClose:this.$1,onTabClick:this.$2,onViewQueueClick:this.$3,selectedTab:this.props.store.get("addVideoDialogTab"),videoItemRenderer:function(a){return b("React").createElement(b("LivingRoomCreationDialogAddVideoItemContainer.react"),a)},videoCollectionRenderer:function(c){return b("React").createElement(b("LivingRoomCreationDialogAddVideoCollectionItem.react"),babelHelpers["extends"]({store:a.props.store},c))},walkthroughStep:g.HIDE,isGameGroup:!1,initializedFromComposer:!0,pageID:c,groupID:null,mainVideoID:d})};return c}(b("React").Component);e.exports=a(c)}),null);
__d("LivingRoomCreationDialogAudienceSelector.react",["cx","LivingRoomCreationDialogStore","React","ShareDialogAudienceSelector.react","ShareDialogAudienceTypes","ShareDialogGroupAudience.react","ShareDialogPageAudience.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("LivingRoomCreationDialogStore").withStore;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this,c=this.props.store.get("activeAudience");if(!c)return null;var d=[b("ShareDialogAudienceTypes").OWN,b("ShareDialogAudienceTypes").GROUP];this.props.dataSources.pageSource&&d.push(b("ShareDialogAudienceTypes").PAGE);return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIDialogTitle.react"),{showCloseButton:!0},b("React").createElement("div",{className:"_78mf"},b("React").createElement(b("ShareDialogAudienceSelector.react"),{allowedAudiences:d,activeAudience:c,onAudienceSelect:function(b){return a.props.store.set("activeAudience")(b)}}))),c===b("ShareDialogAudienceTypes").PAGE?b("React").createElement(b("ShareDialogPageAudience.react"),{onChange:function(b){b=b[0];return a.props.store.set("pageAudience")(b)},pagesSource:this.props.dataSources.pageSource,defaultPageID:this.props.pageID,hidePostingAs:!0}):c===b("ShareDialogAudienceTypes").GROUP?b("React").createElement(b("ShareDialogGroupAudience.react"),{onChange:function(b){b=b[0];a.props.store.set("groupAudience")((b==null?void 0:b.groupId)&&(b==null?void 0:b.actorId)?b:{groupId:b,actorId:a.props.actorID})},onClear:function(){return a.props.store.set("groupAudience")(null)},searchSource:this.props.dataSources.groupSource,pagesSource:this.props.dataSources.pageSource,enableGroupVoiceSwitcher:this.props.dataSources.pageSource!=null,userId:this.props.actorID,defaultGroupID:this.props.groupID!=null?this.props.groupID:"",typeaheadClassName:"_77rj"}):null)};return c}(b("React").Component);e.exports=a(c)}),null);
__d("LivingRoomCreationDialogComposer.react",["cx","fbt","LivingRoomCreationDialogStore","React","ReactComposer.react","ReactComposerAttachmentType","ReactComposerBody.react","ReactComposerProfilePhotoBlock.react","ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react","ShareDialogAudienceTypes"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c=b("LivingRoomCreationDialogStore").withStore;function a(a){__p&&__p();var c=a.store.get("activeAudience"),d=a.composerConfig.attachmentsConfig[b("ReactComposerAttachmentType").STATUS].profilePicSrc;if(c===b("ShareDialogAudienceTypes").PAGE){var e=a.dataSources.pageSource,f=a.store.get("pageAudience");f&&(d=e[f.pageId].pic)}else if(c===b("ShareDialogAudienceTypes").GROUP){e=a.dataSources.pageSource;f=a.store.get("groupAudience");d=e&&((c=e[f==null?void 0:f.actorId])==null?void 0:c.pic)||d}return b("React").createElement(b("ReactComposer.react"),{hideBorders:!0,loggingConfig:a.composerConfig.loggingConfig,activateOnInit:!0,activateOnInitEntryPoint:a.composerConfig.triggeredFrom},b("React").createElement(b("ReactComposerBody.react"),null,b("React").createElement(b("ReactComposerProfilePhotoBlock.react"),{profilePicSrc:d},b("React").createElement(b("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react"),{className:"_70ye",config:a.composerConfig,placeholder:h._("Say something about this..."),mentionsEnabled:!0}))))}e.exports=c(a)}),null);
__d("LivingRoomCreationDialogQueueContainer.react",["cx","fbt","DialogFitHeightToContent","FDSButton.react","LivingRoomCreationDialogAddVideoItemContainer.react","LivingRoomCreationDialogStore","LivingRoomHostFunnelLogger","React","XUIDialog.react","XUIDialogBody.react","XUIDialogDoneButton.react","XUIDialogFooter.react","XUIDialogTitle.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("LivingRoomCreationDialogStore").withStore;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.store.set("videoQueueDialogShown")(!1),b("LivingRoomHostFunnelLogger").appendAction("close_content_queue")},d.$2=function(){d.props.store.set("videoQueueDialogShown")(!1),d.props.store.set("addVideoDialogShown")(!0),b("LivingRoomHostFunnelLogger").appendAction("close_content_queue"),b("LivingRoomHostFunnelLogger").appendAction("click_prepopulate")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){var a=this.props.store.get("videoQueue");return a.length===0?b("React").createElement("div",{className:"_65qu"},b("React").createElement("div",{className:"_65qv"},h._("No videos in the queue"))):b("React").createElement("div",{className:"_2xft"},a.map(function(a){return b("React").createElement(b("LivingRoomCreationDialogAddVideoItemContainer.react"),{curationContext:null,key:a.id,video:a})}))};d.render=function(){return!this.props.store.get("videoQueueDialogShown")?null:b("React").createElement(b("XUIDialog.react"),{behaviors:{DialogFitHeightToContent:b("DialogFitHeightToContent")},className:"_4cnl",label:"Queue",onToggle:this.$1,ref:"dialog",shown:!0,width:600},b("React").createElement(b("XUIDialogTitle.react"),{className:"_1k4o"},h._("Queue")),b("React").createElement(b("XUIDialogBody.react"),{className:"_3fme",useCustomPadding:!0},this.$3()),b("React").createElement(b("XUIDialogFooter.react"),{className:"_4cno"},b("React").createElement(b("FDSButton.react"),{label:h._("Add Video"),margin:"_3-8_",onClick:this.$2}),b("React").createElement(b("XUIDialogDoneButton.react"),{className:"_3-91",onClick:this.$1,size:"large"})))};return c}(b("React").Component);e.exports=a(c)}),null);
__d("LivingRoomCreationDialog.react",["cx","fbt","ix","ActorURI","CreateLivingRoomPostMutation","FDSButton.react","FDSSpinner.react","Image.react","InlineBlock.react","LayerFadeOnHide","LayerHideOnEscape","LayerRemoveOnHide","LivingRoomComposerDispatcher","LivingRoomComposerStore","LivingRoomCreationDialogAddVideoContainer.react","LivingRoomCreationDialogAudienceSelector.react","LivingRoomCreationDialogComposer.react","LivingRoomCreationDialogQueueContainer.react","LivingRoomCreationDialogStore","LivingRoomHostFunnelLogger","LivingRoomShareSheetAttachment.react","LivingRoomShareSheetCrosspostingGroupUpsellList.react","LivingRoomShareSheetGroupUpsellList.react","LivingRoomTypeValues","React","ReactComposerActions","ReactComposerAudienceSelectorContainer.react","ReactComposerAudienceStore","ReactComposerContextProviderMixin","ReactComposerContextTypes","ReactComposerStatusActions","ReactComposerStatusStore","ShareDialogAudienceTypes","SimpleXUIDialog","Tooltip","XGroupLivingRoomFullScreenController","XLivingRoomFullScreenController","XUIDialog.react","XUIDialogButton.react","XUIDialogFooter.react","cxMargin","goURI","immutable","nullthrows","qex","uniqueID"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("LivingRoomCreationDialogStore").withStore;var j=b("LivingRoomTypeValues").AddVideoTabValue,k=496;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a,c){d.$3(b("ShareDialogAudienceTypes").GROUP,c,"group",a)},d.$4=function(){__p&&__p();d.props.logger("create_post_clicked").log();var a=d.props.store,c=a.get("activeAudience"),e;if(c===b("ShareDialogAudienceTypes").PAGE){var f,g;f=b("nullthrows")((f=a.get("pageAudience"))==null?void 0:f.actorId);e="page";g=b("nullthrows")((g=a.get("pageAudience"))==null?void 0:g.pageId)}else if(c===b("ShareDialogAudienceTypes").GROUP){var h;f=b("nullthrows")((h=a.get("groupAudience"))==null?void 0:h.actorId);e="group";g=b("nullthrows")((h=a.get("groupAudience"))==null?void 0:h.groupId)}else f=d.props.contextConfig.actorID,e="user",g=f;d.$3(c,f,e,g)},d.$5=function(){d.props.store.set("addVideoDialogTab")(j.MAIN),d.props.store.set("addVideoDialogShown")(!0),b("LivingRoomHostFunnelLogger").appendAction("click_prepopulate")},d.$6=function(){d.props.store.set("videoQueueDialogShown")(!0),d.props.store.set("addVideoDialogShown")(!1),b("LivingRoomHostFunnelLogger").appendAction("open_content_queue")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getChildContext=function(){return b("ReactComposerContextProviderMixin").getChildContext.bind(this)()};d.componentDidMount=function(){var a=this.props,c=a.contextConfig,d=a.creationSource,e=a.dataSources,f=a.defaultAudience;a=a.logger;a("open_creation_dialog").log();a=f===b("ShareDialogAudienceTypes").PAGE?"page":f===b("ShareDialogAudienceTypes").GROUP?"group":"user";b("LivingRoomHostFunnelLogger").startFunnel("open_creation_dialog",b("uniqueID")(),c.composerID,a,d);b("LivingRoomComposerDispatcher").explicitlyRegisterStores([b("LivingRoomComposerStore")]);b("ReactComposerStatusActions").setMentionsSource(c.composerID,e.mentionsSource)};d.$1=function(){b("LivingRoomHostFunnelLogger").endFunnel("close_creation_dialog")};d.$3=function(a,c,d,e){__p&&__p();var f=this,g=this.props.store;g.set("isPosting")(!0);var i=b("ReactComposerStatusStore").getMessage(this.props.contextConfig.composerID)||"",j=b("ReactComposerAudienceStore").getAudience(this.props.contextConfig.composerID)||"",k=g.get("videoQueue").map(function(a){return a.id});b("LivingRoomHostFunnelLogger").appendAction("create_post_clicked",d);b("CreateLivingRoomPostMutation").commit({actor_id:c,config_type:d,queued_video_ids:k,message:i,target_id:e,privacy:j,creation_source:this.props.creationSource},function(g){g=b("nullthrows")(g==null?void 0:(g=g.create_living_room_post)==null?void 0:(g=g.living_room)==null?void 0:g.id);f.props.logger("create_post_succeeded").log();b("LivingRoomHostFunnelLogger").endFunnel("create_post_succeeded",d);b("ReactComposerActions").postSucceeded(f.props.contextConfig.composerID);g=a===b("ShareDialogAudienceTypes").GROUP?b("XGroupLivingRoomFullScreenController").getURIBuilder().setFBID("group_id",e).setFBID("living_room_id",g).getURI():b("XLivingRoomFullScreenController").getURIBuilder().setFBID("living_room_id",g).setEnum("entry_source",f.props.entrySource).getURI();c!==f.props.contextConfig.actorID&&(g=b("ActorURI").create(g,c));b("goURI")(g,f.props.creationSource==="end_screen_cta")},function(a){g.set("isPosting")(!1),f.props.logger("create_post_failed").setErrorStack(a.stack).setErrorMessage(a.message).log(),b("LivingRoomHostFunnelLogger").endFunnel("create_post_failed",d),b("SimpleXUIDialog").showConfirm(h._("This post could not be shared at this time. Please try again later"))})};d.$7=function(){return this.props.store.get("isPosting")?b("React").createElement("div",{className:"_70z7"},b("React").createElement(b("FDSSpinner.react"),{center:!0})):null};d.$8=function(){return b("React").createElement(b("XUIDialogFooter.react"),null,this.props.store.get("activeAudience")===b("ShareDialogAudienceTypes").GROUP?b("React").createElement(b("InlineBlock.react"),babelHelpers["extends"]({className:"_77ri"},b("Tooltip").propsFor(h._("People who can see posts in the group"))),b("React").createElement(b("Image.react"),{src:i("83921")})):b("React").createElement(b("ReactComposerAudienceSelectorContainer.react"),{audienceXHP:this.props.store.get("activeAudience")===b("ShareDialogAudienceTypes").PAGE?this.props.pagePrivacySelector:this.props.privacySelector,viewerIsTarget:this.props.store.get("activeAudience")!==b("ShareDialogAudienceTypes").PAGE}),b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",label:h._("Cancel"),onClick:function(){return b("LivingRoomHostFunnelLogger").endFunnel("close_creation_dialog")}}),b("React").createElement(b("FDSButton.react"),{isDisabled:this.props.store.get("activeAudience")===b("ShareDialogAudienceTypes").GROUP&&this.props.store.get("groupAudience")===null,label:h._("Start"),margin:"_3-9a",onClick:this.$4,size:"small",use:"primary"}))};d.render=function(){var a=b("qex")._("1135963");return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIDialog.react"),{label:"Watch Party",behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerRemoveOnHide:b("LayerRemoveOnHide")},onToggle:this.$1,className:"_51jd",layerHideOnBlur:!1,modal:!0,shown:!0,width:k},this.$7(),b("React").createElement(b("LivingRoomCreationDialogAudienceSelector.react"),{actorID:this.props.contextConfig.actorID,dataSources:this.props.dataSources,pageID:this.props.pageID,groupID:this.props.groupID}),b("React").createElement(b("LivingRoomCreationDialogComposer.react"),{composerConfig:this.props.composerConfig,dataSources:this.props.dataSources}),b("React").createElement(b("LivingRoomShareSheetAttachment.react"),{creatorName:this.props.creatorName,creationSource:this.props.creationSource,onAddVideoClick:this.$5,openContentQueue:this.$6,queuedVideos:b("immutable").List(this.props.store.get("videoQueue")),store:this.props.store}),this.$8(),a?b("React").createElement(b("LivingRoomShareSheetCrosspostingGroupUpsellList.react"),null):b("React").createElement(b("LivingRoomShareSheetGroupUpsellList.react"),{dataSource:this.props.dataSources.groupSource,recommendedGroups:this.props.recommendedGroups,userID:this.props.contextConfig.actorID,onPost:this.$2})),b("React").createElement(b("LivingRoomCreationDialogAddVideoContainer.react"),null),b("React").createElement(b("LivingRoomCreationDialogQueueContainer.react"),null))};return c}(b("React").Component);c.childContextTypes=b("ReactComposerContextTypes");e.exports=a(c)}),null);
__d("LivingRoomCreationDialogContainer.react",["LivingRoomCreationDialog.react","LivingRoomCreationDialogStore","LivingRoomTypeValues","React"],(function(a,b,c,d,e,f){"use strict";var g=b("LivingRoomCreationDialogStore").Container,h=b("LivingRoomTypeValues").AddVideoTabValue;a=function(a){a.videoID;a.videoMetadata;var c=a.videoQueue,d=babelHelpers.objectWithoutPropertiesLoose(a,["videoID","videoMetadata","videoQueue"]);return b("React").createElement(g,{initialState:{activeAudience:a.defaultAudience,addVideoDialogShown:a.showAddVideoDialogOnOpen,addVideoDialogTab:h.MAIN,groupAudience:a.groupID?{groupId:a.groupID,actorId:a.contextConfig.actorID}:null,isPosting:!1,mainVideoID:a.videoID,pageAudience:a.pageID?{pageId:a.pageID,actorId:a.pageID}:null,videoQueue:c,videoQueueDialogShown:!1}},b("React").createElement(b("LivingRoomCreationDialog.react"),d))};e.exports=a}),null);
__d("LivingRoomVideoShareDialogController",["DOM","LivingRoomCreationDialogContainer.react","LivingRoomTypedLogger","React","ReactDOM","ShareDialogAudienceTypes","ShareDialogDataSources","ShareDialogStatusTypes","destroyOnUnload","gkx","uniqueID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i;function j(a,c){return new(b("LivingRoomTypedLogger"))().setLivingRoomAction(a).setManualConfigType(c).setComposerSessionID(i).setManualCreationSource(h.creationSource)}function k(a){a=h.defaultSelection=="page"&&h.dataSources.pageSource?b("ShareDialogAudienceTypes").PAGE:h.defaultSelection=="group"?b("ShareDialogAudienceTypes").GROUP:b("ShareDialogAudienceTypes").OWN;b("ReactDOM").render(b("React").createElement(b("LivingRoomCreationDialogContainer.react"),{attachment:h.attachment,composerConfig:h.composerConfig,contextConfig:{actorID:h.userId,composerID:i,composerType:"living_room",gks:h.gks,targetID:h.userId,showStoriesFirstNux:!1,storiesFirstNuxID:null},creationSource:h.creationSource,creatorName:h.creatorName,dataSources:h.dataSources,defaultPrivacy:h.defaultPrivacy,defaultAudience:a,entrySource:h.entrySource,groupID:h.groupId,logger:function(a){return j(a,null)},pageID:h.pageId,pagePrivacySelector:h.pagePrivacySelector,privacySelector:h.privacySelector,recommendedGroups:h.recommendedGroups,sharerType:h.sharerType,showAddVideoDialogOnOpen:h.showAddVideoDialogOnOpen,videoID:h.videoId,videoMetadata:h.videoMetadata,videoQueue:h.videoQueue}),g)}var l={getPropsFromAsyncResponse:function(a){var c=a.sources,d=babelHelpers.objectWithoutPropertiesLoose(a,["sources"]);c=c.page;b("gkx")("707141")?a=a.dataSources:a=new(b("ShareDialogDataSources"))().addSource(b("ShareDialogDataSources").TYPES.PAGE,c);return babelHelpers["extends"]({dataSources:a},d)},setup:function(a,c){h=l.getPropsFromAsyncResponse(a),g=c,i=b("uniqueID")(),k({type:b("ShareDialogStatusTypes").COMPOSING}),b("destroyOnUnload")(function(){b("ReactDOM").unmountComponentAtNode(g),b("DOM").remove(g)})}};e.exports=l}),null);